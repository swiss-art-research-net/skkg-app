output: ../ldp/assets/fieldDefinitions.trig

prefix: https://platform.swissartresearch.net/instances/fields/
container: http://www.metaphacts.com/ontologies/platform#fieldDefinitionContainer
namespaces:
  aat: http://vocab.getty.edu/aat/
  crm: http://www.cidoc-crm.org/cidoc-crm/
  crmdig: http://www.ics.forth.gr/isl/CRMdig/
  crminf: http://www.ics.forth.gr/isl/CRMinf/
  frbroo: http://iflastandards.info/ns/fr/frbr/frbroo/
  la: http://www.linkedart.org/schema/
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  prov: http://www.w3.org/ns/prov#
  search: https://platform.swissartresearch.net/search/

fields:

    - id: datierung
      label: Datierung
      datatype: xsd:string
      queries:
        - select: 'SELECT ?value WHERE {
          ?subject crm:P108i_was_produced_by/crm:P4_has_time-span/rdfs:label ?value .
        }'

    - id: gattung
      label: Gattung
      datatype: xsd:anyURI
      queries:
        - select: 'SELECT ?value WHERE {
          ?subject crm:P2_has_type ?value .
          ?value crm:P127_has_broader_term* type:21087 .
        }'

    - id: has_broader_term
      label: Broader term
      description: The broader term of the subject
      datatype: xsd:anyURI
      queries:
        - select: 'SELECT ?value WHERE {
            $subject crm:P127_has_broader_term ?value .
          }'

    - id: inv_nr
      label: Inv.-Nr.
      datatype: xsd:string
      queries:
        - select: 'SELECT ?value WHERE {
          ?subject crm:P1_is_identified_by ?identifier .
          ?identifier crm:P2_has_type type:invnr ;
            crm:P190_has_symbolic_content ?value .
        }'

    - id: mat_technik
      label: Mat./Technik
      datatype: xsd:anyURI
      queries:
        - select: 'SELECT ?value WHERE {
            $subject crm:P45_consists_of ?value .
        }'

    - id: masse
      label: Masse
      datatype: xsd:string
      queries:
        - select: 'SELECT ?value WHERE {
            {
              SELECT ?dimension_type (GROUP_CONCAT(?dimension_string;SEPARATOR=", ") as ?dimensions) WHERE {
                ?subject crm:P46_is_composed_of ?part .
                ?part crm:P2_has_type/rdfs:label ?dimension_type ;
                  crm:P43_has_dimension ?dimension .
                ?dimension crm:P2_has_type/rdfs:label ?dimension_dimension ;
                  crm:P90_has_value ?dimension_value ;
                  crm:P91_has_unit/rdfs:label ?dimension_unit .
                BIND(CONCAT(?dimension_dimension, " ", ?dimension_value, ?dimension_unit) AS ?dimension_string)
                FILTER(LANG(?dimension_dimension) = "de")
              } GROUP BY ?dimension_type
            }
          BIND(CONCAT(?dimension_type, ": ", ?dimensions) AS ?value)
        }'

    - id: pers_korp
      label: Pers./KÃ¶rp
      datatype: xsd:anyURI
      queries:
        - select: 'SELECT ?value WHERE {
          ?subject crm:P108i_was_produced_by ?production .
          ?production crm:P9_consists_of ?subProduction .
          ?subProduction crm:P14_carried_out_by ?value .
        }'

    - id: same_as
      label: Same as
      description: The entity that is the same as the subject
      datatype: xsd:anyURI
      queries:
        - select: 'SELECT ?value WHERE {
            $subject crmdig:L54_is_same-as ?value .
          }'

    - id: titel
      label: Titel
      datatype: xsd:string
      queries:
        - select: 'SELECT ?value WHERE {
          ?subject crm:P1_is_identified_by ?title .
          ?title crm:P2_has_type/crm:P127_has_broader_term* type:32089 ;
            crm:P190_has_symbolic_content ?value .
        }'